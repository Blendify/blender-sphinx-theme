/*!
	Theme Name: bthree
	Theme URI: https://www.blender.org/
	Author: Pablo Vazquez
	Author URI: http://pablovazquez.art/
	Description: Theme for blender.org and children sites
	Version: 1.1.1
	Text Domain: bthree */

@import _config
@import ../../assets_shared/styles/config
@import ../../assets_shared/styles/main

@import assets_shared/css/font-borg.css

@import _base
@import _homepage
@import _blog
@import _features
@import _release-logs
@import _listing-cards
@import _community
@import _download

@import plugins/_jquery-images-compare

// Navigation Bar
.navbar
	& .navbar-btn
		+media-xs
			position: absolute
			right: 0

.navbar-inner
	+media-xs
		margin-right: 50px

header a.navbar-logo
	display: inline-block
	margin-top: 7px

	+media-xs
		margin: 8px 0 0 10px

ul.col-md-3 h4
	+media-xs
		font-size: 3em
		margin-top: 1em


.parallax
	will-change: transform

article.page .row
	margin-bottom: 20px


.features .box .row
	margin-bottom: 0 !important

.featured h1.dark
	color: $color_text
	text-shadow: none

/* DROPDOWN MENUS *//* // DROPDOWN MENUS */

/* // HEADER */

/* FRONTPAGE */
.box.flex
	display: flex
	flex-direction: column

	.btn-bottom
		align-self: flex-end
		margin: auto auto 10px auto
		width: 92%


.header_static
	& .container
		min-height: 120px
		position: relative

		& .title
			+media-xs
				margin: 0
				top: 0
				padding-left: 1.0em

		& .title h1
			font-size: 360%
			padding-bottom: 10px
			max-width: 73% // otherwise long titles look ugly
			+media-xs
				font-size: 270%
				text-shadow: 1px 1px 0 rgba(black, .4)

			&.dark
				color: $color_text

	& .backdrop
		background-size: cover
		background-position: 50% 30%

.solo .title
	margin: 25px 15px 0 0

/* // JUMBOTRON */

/* SIDEBAR */
.sidebar_block
	background-color: darken($color_background, 2%)
	padding: 5px 14px
	margin: 0 0 10px 0
	position: relative
	overflow: hidden
	box-shadow: 1px 1px 2px $color-background-dark

	& h4
		font-size: 110%
		font-weight: lighter
		line-height: normal

	& article
		border-top: thin solid darken($color_background, 5%)

	& .side_login
		text-align: center
		width: 100%
		padding: 0
		margin: 0

		& p
			font-size: 90%

	& input, & a, & h2, & h3,
	& p, & form, & .side_login, & .btn
		position: relative
		z-index: 8

ul.latest_blog_posts
	list-style-image: url(../images/post.png)

#sidebar
	& h4, & .box h4
		text-align: left
		padding: 10px 0 3px 0
		margin: 0 0 5px 8px
		text-overflow: ellipsis
		overflow: hidden
		white-space: nowrap

	& .title
		color: initial
		text-shadow: none


	& .widget
		position: relative
		background-color: white
		text-align: center
		padding-bottom: 5px
		margin-bottom: 15px
		box-shadow: 1px 1px 1px $color-background-dark
		transition: opacity .1s ease-out

		&:hover
			opacity: 0.9

		& p
			padding: 0
			margin: 0
			padding-bottom: 5px

		& img
			margin-bottom: -10px // really bad hack

.widgetable-content
	& p
		margin: 0

	& img
		border-bottom-left-radius: 3px
		border-bottom-right-radius: 3px
		+image-rendering-crisp

.horizontal
	#sidebar
		margin-bottom: 25px
		+clearfix

	& hr
		width: 100%
		margin: 30px 0

	& ul#sidebar h4,
	& ol#sidebar h4
		margin: 0

.widgetable-title
	font-size: 1.2em

.horizontal .widget img
	width: 100%
	margin: 6px auto 0 auto
	padding: 0
	+image-rendering-crisp

/* // SIDEBAR */

/* GENERIC PAGE */
.page
	margin-top: 8px
	+media-xs
		margin-top: auto

	& h1, & h2, & h3, & h4
		font-weight: bold
		color: $color_text
		font-weight: normal

	& ul
		margin: 12px 0 20px 0

		& li
			list-style-type: none
			position: relative
			margin-left: 0
			margin-bottom: 4px
			+transition(all, .2s, ease-in-out)

.nav-tabs
	margin: 0
	border: none

.nav-tabs>li>a
	color: #333
	border: none
	background: transparent
	border-top-left-radius: 3px
	border-top-right-radius: 3px

.nav-tabs>li.active a,
.nav-tabs>li.active a:focus,
.nav-tabs>li.active a:active,
.nav-tabs>li.active a:hover
	background: transparent !important
	border: none  !important
	border-bottom: none !important
	color: white
	font-weight: normal

.nav-tabs > .active > a, .nav-tabs > .active > a:hover
	border: none

.tab-pane
	margin: 5px 16px


ul.nobullets li:after,
ul.nobullets li:after
	list-style-type: none
	display: none

.widgetable-content .alignleft,
-content .alignright
	float: none
	margin: 0

a.post-edit-link
	position: absolute
	z-index: 1
	right: 50px
	top: 20px
	padding: 3px 10px
	background-color: transparent
	border-radius: 3px
	text-shadow: none
	font-size: .8em
	color: $color-text-light
	opacity: .8
	i
		font-size: .9em
		padding-right: 5px

	&:hover
		opacity: 1
		color: $color-text-light
		background-color: $color-primary
		border-color: $color-primary


/* // GENERIC PAGE */


ul.rss-aggregator
	padding: 0
	margin: 0

	+media-sm
		width: 100%

	li
		width: 100%
		margin: 10px 15px
		+text-overflow-ellipsis

		&:last-child
			margin-bottom: 0

	.feed-source, .feed-date
		font-size: .8em
		color: $color-text-dark-primary
		display: inline-block

	.feed-date
		margin-left: 6px
		padding-left: 6px

		&:before
			content: 'Â·'
			color: lighten($color_text, 25%)
			position: relative
			left: -6px

/* Get rid of the border-right on items */
ul.rss-aggregator li.feed-item .wprss-feed-meta > span:after
	content: ''

// Hide "Older Posts" link under News
.rss-aggregator + .nav-links
	display: none


@-webkit-keyframes slide_away
	0%
		-webkit-transform: translateX(0px)
	49%
		-webkit-transform: translateX(150px)
		opacity: 0.5
	50%
		-webkit-transform: translateX(-150px)
		opacity: 0.5
	100%
		-webkit-transform: translateX(0px)

@keyframes slide_away
	0%
		transform: translateX(0px)
		-moz-transform: translateX(0px)
	49%
		transform: translateX(150px)
		-moz-transform: translateX(150px)
	50%
		transform: translateX(-150px)
		-moz-transform: translateX(-150px)
	100%
		transform: translateX(0px)
		-moz-transform: translateX(0px)

@keyframes rotating
	0%
		transform: rotate(0deg)
		-moz-transform: rotate(0deg)
	100%
		transform: rotate(-180deg)
		-moz-transform: rotate(-180deg)

@-webkit-keyframes rotating
	0%
		-webkit-transform: rotate(0deg)
	100%
		-webkit-transform: rotate(-180deg)


/* Small button at the bottom of the page to hop to top */
#hop
	display: flex
	align-items: center
	justify-content: center
	visibility: hidden
	position: fixed
	right: 25px
	bottom: 25px
	z-index: 999
	cursor: pointer
	opacity: 0
	background: $color-background-light
	width: 32px
	height: 32px
	border-radius: 50%
	color: $color-text-dark-secondary
	font-size: 1.2em
	box-shadow: 0 0 15px rgba(black, .2)
	transform: scale(0.5)
	transition: all 250ms ease-in-out

	&:hover
		transform: scale(1.2)
		background-color: $color-background-dark

	&.active
		visibility: visible
		opacity: 1
		transform: scale(1)

.embed-container
	position: relative
	padding-bottom: 56.25%
	height: 0
	overflow: hidden
	max-width: 100%
	height: auto

.embed-container iframe,
.embed-container object,
.embed-container embed,
.embed-container twitterwidget
	position: absolute !important
	top: 0
	left: 0
	width: 100%
	height: 100%
